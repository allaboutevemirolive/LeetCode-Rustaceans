// https://leetcode.com/problems/kth-smallest-element-in-a-sorted-matrix/solutions/1322210/rust-8ms/
use std::{cmp::Reverse, collections::BinaryHeap};

impl Solution {
    pub fn kth_smallest(matrix: Vec<Vec<i32>>, k: i32) -> i32 {
        let mut heap: BinaryHeap<_> = matrix
            .iter()
            .flat_map(|r| r.iter().map(|&x| Reverse(x)))
            .collect();
        for _ in 1..k {
            heap.pop();
        }
        heap.peek().unwrap().0
    }
}