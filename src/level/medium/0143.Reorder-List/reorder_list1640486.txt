// https://leetcode.com/problems/reorder-list/solutions/1640486/rust-use-queue/
use std::collections::VecDeque;

impl Solution {
    pub fn reorder_list(head: &mut Option<Box<ListNode>>) {
        let mut queue = VecDeque::new();
        let mut h = head.take();
        while let Some(mut n) = h {
            h = n.next.take();
            queue.push_back(Some(n));
        }
        let mut stack = vec![];
        let mut direction = true;
        while !queue.is_empty() {
            if direction {
                stack.push(queue.pop_front().unwrap());
            } else {
                stack.push(queue.pop_back().unwrap())
            }
            direction = !direction;
        }
        let mut prev = None;
        while let Some(last) = stack.pop() {
            let mut node = last.unwrap();
            node.next = prev;
            prev = Some(node);
        }
        *head = prev
    }
}