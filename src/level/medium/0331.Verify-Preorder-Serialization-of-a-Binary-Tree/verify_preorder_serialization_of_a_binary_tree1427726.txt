// https://leetcode.com/problems/verify-preorder-serialization-of-a-binary-tree/solutions/1427726/rust-simple-solution-based-on-counting/
impl Solution {
    pub fn is_valid_serialization(preorder: String) -> bool {
        let mut nodes = 1isize;
        let mut split = preorder.split(',');
        
        for x in split {
            match x {
                "#" => nodes -= 1,
                _ if nodes == 0 => return false,
                _ => nodes += 1,
            }

            if nodes < 0 {
                return false;
            }
        }

        nodes == 0
    }
}